{"version":3,"sources":["components/Map/marker.png","components/Map/dataOverlay.js","components/Map/index.js","components/ReportIssue/index.js","components/Report/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","round","x","n","tenN","Math","pow","ScatterplotOverlay","_redraw","width","height","ctx","isDragging","project","unproject","props","dotRadius","dotFill","compositeOperation","renderWhileDragging","locations","lngLatAccessor","clearRect","globalCompositeOperation","pixel","pixelRounded","fillStyle","beginPath","arc","PI","fill","redraw","this","PureComponent","displayName","defaultProps","location","get","globalOpacity","Map","state","viewport","latitude","longitude","zoom","mapboxApiAccessToken","mapStyle","onViewportChange","setState","key","points","Component","ReportIssue","className","onClick","clickHandler","customStyles","container","provided","Report","selectedProblemValue","error","locating","handleSelect","select","value","success","position","coords","problem","userId","localStorage","getItem","undefined","fetch","method","headers","body","JSON","stringify","lng","lat","type","parseInt","then","res","json","setItem","handleClose","handleSubmit","navigator","geolocation","getCurrentPosition","active","styles","options","onChange","disabled","fromJS","version","sources","data","features","geometry","coordinates","layers","id","source","paint","App","reportOpened","problemOptions","loadingPoints","toggleReport","console","log","getMapPoints","getProblemTypes","map","item","label","text","Immutable","c","Boolean","window","hostname","match","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"iKAAAA,EAAOC,QAAU,snO,6MCMjB,SAASC,EAAMC,EAAGC,GAChB,IAAMC,EAAOC,KAAKC,IAAI,GAAIH,GAC1B,OAAOE,KAAKJ,MAAMC,EAAIE,GAAQA,EAahC,IAUqBG,E,2MAEnBC,QAAU,YAA6D,IAA1DC,EAAyD,EAAzDA,MAAOC,EAAkD,EAAlDA,OAAQC,EAA0C,EAA1CA,IAAKC,EAAqC,EAArCA,WAAYC,EAAyB,EAAzBA,QAAyB,KAAhBC,UAQhD,EAAKC,OANPC,EAFkE,EAElEA,UACAC,EAHkE,EAGlEA,QACAC,EAJkE,EAIlEA,mBACAC,EALkE,EAKlEA,oBACAC,EANkE,EAMlEA,UACAC,EAPkE,EAOlEA,eAMF,GAHAV,EAAIW,UAAU,EAAG,EAAGb,EAAOC,GAC3BC,EAAIY,yBAA2BL,GAE1BC,IAAwBP,IAAeQ,EAAW,CAAC,IAAD,uBACrD,YAAuBA,EAAvB,+CAAkC,CAAC,IAC3BI,EAAQX,EAAQQ,EADU,UAE1BI,EAAe,CAACxB,EAAMuB,EAAM,GAAI,GAAIvB,EAAMuB,EAAM,GAAI,IAExDC,EAAa,GAAKT,GAAa,GAC/BS,EAAa,GAAKT,EAAYP,GAC9BgB,EAAa,GAAKT,GAAa,GAC/BS,EAAa,GAAKT,EAAYN,IAE9BC,EAAIe,UAAYT,EAChBN,EAAIgB,YACJhB,EAAIiB,IAAIH,EAAa,GAAIA,EAAa,GAAIT,EAAW,EAAa,EAAVX,KAAKwB,IAC7DlB,EAAImB,SAb6C,qF,wEAqBvD,OAAO,kBAAC,IAAD,CAAeC,OAAQC,KAAKxB,c,GApCSyB,iBAwChD1B,EAAmB2B,YAAc,qBAEjC3B,EAAmB4B,aApDE,CACnBd,eAAgB,SAAAe,GAAQ,MAAI,CAACA,EAASC,IAAI,GAAID,EAASC,IAAI,KAC3DlB,qBAAqB,EACrBH,UAAW,EACXC,QAAS,UACTqB,cAAe,EAEfpB,mBAAoB,e,UCpBDqB,E,2MACnBC,MAAQ,CACNC,SAAU,CACRhC,MAAO,OACPC,OAAQ,OACRgC,SAAU,QACVC,UAAW,QACXC,KAAM,I,wEAIA,IAAD,OACP,OACE,kBAAC,IAAD,eACEC,qBAAqB,sGACjBb,KAAKQ,MAAMC,SAFjB,CAGEK,SAAS,qCACTC,iBAAkB,SAAAN,GAAQ,OAAI,EAAKO,SAAS,CAAEP,gBAE9C,kBAAC,EAAD,CACEQ,IAAI,cACJ7B,UAAWY,KAAKjB,MAAMmC,OACtBlC,UAAW,GACXsB,cAAe,GACfpB,mBAAmB,UACnBD,QAAQ,uBACRE,qBAAqB,S,GA1BEgC,aCLZC,G,uLAEjB,OACE,yBAAKC,UAAU,eAAeC,QAAStB,KAAKjB,MAAMwC,cAChD,wC,GAJiCJ,c,oPCEzC,IAAMK,EAAe,CACnBC,UAAW,SAACC,EAAUlB,GAAX,O,yVAAA,IACNkB,EADM,CAETjD,MAAO,WAIUkD,E,2MACnBnB,MAAQ,CACNoB,qBAAsB,KACtBC,MAAO,GACPC,UAAU,G,EAGZC,aAAe,SAAAC,GACb,EAAKhB,SAAS,CACZY,qBAAsBI,EAAOC,S,EAIjCJ,MAAQ,WACN,EAAKb,SAAS,CACZa,MAAO,sC,EAIXK,QAAU,SAAAC,GACR,IAAMzB,EAAWyB,EAASC,OAAO1B,SAC3BC,EAAYwB,EAASC,OAAOzB,UAC5B0B,EAAU,EAAK7B,MAAMoB,qBAErBU,EACJC,aAAaC,QAAQ,gBACcC,IAAnCF,aAAaC,QAAQ,UACjBD,aAAaC,QAAQ,UACrB,KAENE,MAAM,yCAA0C,CAC9CC,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChBN,UAEFO,KAAMC,KAAKC,UAAU,CACnBC,IAAKrC,EACLsC,IAAKvC,EACLwC,KAAMC,SAASd,OAGhBe,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAC,GACJd,aAAagB,QAAQ,SAAUF,EAAIf,QACnC,EAAKtB,SAAS,CACZc,UAAU,IAEZ,EAAK/C,MAAMyE,kB,EAIjBC,aAAe,WACRC,UAAUC,aAKb,EAAK3C,SAAS,CACZc,UAAU,IAEZ4B,UAAUC,YAAYC,mBAAmB,EAAK1B,QAAS,EAAKL,QAP5D,EAAKb,SAAS,CACZa,MAAO,kD,wEAWX,OACE,yBAAKR,UAAS,iBAAYrB,KAAKjB,MAAM8E,OAAS,SAAW,KACvD,yBAAKxC,UAAU,eAAeC,QAAStB,KAAKjB,MAAMyE,aAChD,oCAEF,kBAAC,IAAD,CACEM,OAAQtC,EACRuC,QAAS/D,KAAKjB,MAAMgF,QACpBC,SAAUhE,KAAK+B,eAEjB,4BACEV,UAAU,SACVC,QAAStB,KAAKyD,aACdQ,UAAWjE,KAAKQ,MAAMoB,sBAEtB,8F,GAjF0BT,aCJ9BL,G,MAAWoD,YAAO,CACtBC,QAAS,EACTC,QAAS,CACPlD,OAAQ,CACNgC,KAAM,UACNmB,KAAM,CACJnB,KAAM,oBACNoB,SAAU,CACR,CACEpB,KAAM,UACNqB,SAAU,CAAErB,KAAM,QAASsB,YAAa,EAAE,OAAQ,aAM5DC,OAAQ,CACN,CACEC,GAAI,WACJxB,KAAM,SACNyB,OAAQ,SACRC,MAAO,CACL,eAAgB,OAChB,gBAAiB,QAMJC,E,2MACnBrE,MAAQ,CACNsE,cAAc,EACdC,eAAgB,GAChBC,eAAe,EACf9D,OAAQ,I,EAgDV+D,aAAe,WACbC,QAAQC,IAAI,SACZ,EAAKnE,SAAS,CACZ8D,cAAe,EAAKtE,MAAMsE,gB,mFA/C5B9E,KAAKoF,eACLpF,KAAKqF,oB,wCAGY,IAAD,OAChB3C,MAAM,+CAAgD,CACpDC,OAAQ,MACRC,QAAS,CACP,eAAgB,sBAGjBQ,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAC,GACJ,IAAMU,EAAUV,EAAIiC,KAAI,SAAAC,GACtB,MAAO,CACLtD,MAAOsD,EAAKb,GACZc,MAAOD,EAAKE,SAGhB,EAAKzE,SAAS,CACZ+D,eAAgBhB,S,qCAKR,IAAD,OACbrB,MAAM,yCAA0C,CAC9CC,OAAQ,MACRC,QAAS,CACP,eAAgB,sBAGjBQ,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAC,GACJ,IAAMjE,EAAYsG,IAAUxB,OAC1Bb,EAAIiC,KAAI,SAAAK,GAAC,MAAI,CAACA,EAAEpB,SAASC,YAAY,GAAImB,EAAEpB,SAASC,YAAY,QAElE,EAAKxD,SAAS,CACZE,OAAQ9B,EACR4F,eAAe,S,+BAarB,OAAOhF,KAAKQ,MAAMwE,cAAgB,KAChC,yBAAK3D,UAAU,OACb,kBAAC,EAAD,CAAKH,OAAQlB,KAAKQ,MAAMU,OAAQJ,SAAUA,IAC1C,kBAAC,EAAD,CAAaS,aAAcvB,KAAKiF,eAChC,kBAAC,EAAD,CACEpB,OAAQ7D,KAAKQ,MAAMsE,aACnBf,QAAS/D,KAAKQ,MAAMuE,eACpBvB,YAAaxD,KAAKiF,oB,GApEK9D,aCzBbyE,QACW,cAA7BC,OAAOzF,SAAS0F,UAEe,UAA7BD,OAAOzF,SAAS0F,UAEhBD,OAAOzF,SAAS0F,SAASC,MACvB,2DCXNC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,SD0H3C,kBAAmBzC,WACrBA,UAAU0C,cAAcC,MAAMjD,MAAK,SAAAkD,GACjCA,EAAaC,kB","file":"static/js/main.5470e9d3.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Immutable from \"immutable\";\nimport { CanvasOverlay } from \"react-map-gl\";\n\nfunction round(x, n) {\n  const tenN = Math.pow(10, n);\n  return Math.round(x * tenN) / tenN;\n}\n\nconst propTypes = {\n  locations: PropTypes.instanceOf(Immutable.List).isRequired,\n  lngLatAccessor: PropTypes.func,\n  renderWhileDragging: PropTypes.bool,\n  globalOpacity: PropTypes.number,\n  dotRadius: PropTypes.number,\n  dotFill: PropTypes.string,\n  compositeOperation: PropTypes.string\n};\n\nconst defaultProps = {\n  lngLatAccessor: location => [location.get(0), location.get(1)],\n  renderWhileDragging: true,\n  dotRadius: 4,\n  dotFill: \"#1FBAD6\",\n  globalOpacity: 1,\n  // Same as browser default.\n  compositeOperation: \"source-over\"\n};\n\nexport default class ScatterplotOverlay extends PureComponent {\n  /* eslint-disable max-statements */\n  _redraw = ({ width, height, ctx, isDragging, project, unproject }) => {\n    const {\n      dotRadius,\n      dotFill,\n      compositeOperation,\n      renderWhileDragging,\n      locations,\n      lngLatAccessor\n    } = this.props;\n\n    ctx.clearRect(0, 0, width, height);\n    ctx.globalCompositeOperation = compositeOperation;\n\n    if ((renderWhileDragging || !isDragging) && locations) {\n      for (const location of locations) {\n        const pixel = project(lngLatAccessor(location));\n        const pixelRounded = [round(pixel[0], 1), round(pixel[1], 1)];\n        if (\n          pixelRounded[0] + dotRadius >= 0 &&\n          pixelRounded[0] - dotRadius < width &&\n          pixelRounded[1] + dotRadius >= 0 &&\n          pixelRounded[1] - dotRadius < height\n        ) {\n          ctx.fillStyle = dotFill;\n          ctx.beginPath();\n          ctx.arc(pixelRounded[0], pixelRounded[1], dotRadius, 0, Math.PI * 2);\n          ctx.fill();\n        }\n      }\n    }\n  };\n  /* eslint-enable max-statements */\n\n  render() {\n    return <CanvasOverlay redraw={this._redraw} />;\n  }\n}\n\nScatterplotOverlay.displayName = \"ScatterplotOverlay\";\nScatterplotOverlay.propTypes = propTypes;\nScatterplotOverlay.defaultProps = defaultProps;\n","import React, { Component } from \"react\";\nimport ReactMapGL, { Marker } from \"react-map-gl\";\nimport ScatterplotOverlay from \"./dataOverlay\";\n\nimport Immutable from \"immutable\";\n\nimport marker from \"./marker.png\";\n\nexport default class Map extends Component {\n  state = {\n    viewport: {\n      width: \"100%\",\n      height: \"100%\",\n      latitude: 49.9935,\n      longitude: 36.2304,\n      zoom: 8\n    }\n  };\n\n  render() {\n    return (\n      <ReactMapGL\n        mapboxApiAccessToken=\"pk.eyJ1Ijoicm9tYW5ib3JvZGF0b3YiLCJhIjoiY2sxa2w3N3Y1MDdvZjNibzNveXFidWpuaSJ9.h9858JVC3HbU02hxED68eg\"\n        {...this.state.viewport}\n        mapStyle=\"mapbox://styles/mapbox/streets-v11\"\n        onViewportChange={viewport => this.setState({ viewport })}\n      >\n        <ScatterplotOverlay\n          key=\"scatterplot\"\n          locations={this.props.points}\n          dotRadius={10}\n          globalOpacity={0.6}\n          compositeOperation=\"lighter\"\n          dotFill=\"rgba(255, 0, 0, 0.5)\"\n          renderWhileDragging={true}\n        />\n      </ReactMapGL>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./index.css\";\n\nexport default class ReportIssue extends Component {\n  render() {\n    return (\n      <div className=\"reportButton\" onClick={this.props.clickHandler}>\n        <span>+</span>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Select from \"react-select\";\n\nimport \"./index.css\";\n\nconst customStyles = {\n  container: (provided, state) => ({\n    ...provided,\n    width: \"100%\"\n  })\n};\n\nexport default class Report extends Component {\n  state = {\n    selectedProblemValue: null,\n    error: \"\",\n    locating: false\n  };\n\n  handleSelect = select => {\n    this.setState({\n      selectedProblemValue: select.value\n    });\n  };\n\n  error = () => {\n    this.setState({\n      error: \"Unable to retrieve your location\"\n    });\n  };\n\n  success = position => {\n    const latitude = position.coords.latitude;\n    const longitude = position.coords.longitude;\n    const problem = this.state.selectedProblemValue;\n\n    const userId =\n      localStorage.getItem(\"userId\") &&\n      localStorage.getItem(\"userId\") !== undefined\n        ? localStorage.getItem(\"userId\")\n        : null;\n\n    fetch(\"https://neolabs-api.zpoken.ai/problems\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userId\n      },\n      body: JSON.stringify({\n        lng: longitude,\n        lat: latitude,\n        type: parseInt(problem)\n      })\n    })\n      .then(res => res.json())\n      .then(res => {\n        localStorage.setItem(\"userId\", res.userId);\n        this.setState({\n          locating: false\n        });\n        this.props.handleClose();\n      });\n  };\n\n  handleSubmit = () => {\n    if (!navigator.geolocation) {\n      this.setState({\n        error: \"Geolocation is not supported by your browser\"\n      });\n    } else {\n      this.setState({\n        locating: true\n      });\n      navigator.geolocation.getCurrentPosition(this.success, this.error);\n    }\n  };\n\n  render() {\n    return (\n      <div className={`report ${this.props.active ? \"active\" : \"\"}`}>\n        <div className=\"close-button\" onClick={this.props.handleClose}>\n          <span>x</span>\n        </div>\n        <Select\n          styles={customStyles}\n          options={this.props.options}\n          onChange={this.handleSelect}\n        />\n        <button\n          className=\"button\"\n          onClick={this.handleSubmit}\n          disabled={!this.state.selectedProblemValue}\n        >\n          <span>Отправить</span>\n        </button>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Map from \"./components/Map\";\nimport ReportIssue from \"./components/ReportIssue\";\nimport Report from \"./components/Report\";\nimport Immutable, { fromJS } from \"immutable\";\n\nimport \"./App.css\";\n\nconst mapStyle = fromJS({\n  version: 8,\n  sources: {\n    points: {\n      type: \"geojson\",\n      data: {\n        type: \"FeatureCollection\",\n        features: [\n          {\n            type: \"Feature\",\n            geometry: { type: \"Point\", coordinates: [-122.45, 37.78] }\n          }\n        ]\n      }\n    }\n  },\n  layers: [\n    {\n      id: \"my-layer\",\n      type: \"circle\",\n      source: \"points\",\n      paint: {\n        \"circle-color\": \"#f00\",\n        \"circle-radius\": 4\n      }\n    }\n  ]\n});\n\nexport default class App extends Component {\n  state = {\n    reportOpened: false,\n    problemOptions: [],\n    loadingPoints: true,\n    points: []\n  };\n\n  componentDidMount() {\n    this.getMapPoints();\n    this.getProblemTypes();\n  }\n\n  getProblemTypes() {\n    fetch(\"https://neolabs-api.zpoken.ai/problems/types\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n      .then(res => res.json())\n      .then(res => {\n        const options = res.map(item => {\n          return {\n            value: item.id,\n            label: item.text\n          };\n        });\n        this.setState({\n          problemOptions: options\n        });\n      });\n  }\n\n  getMapPoints() {\n    fetch(\"https://neolabs-api.zpoken.ai/problems\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n      .then(res => res.json())\n      .then(res => {\n        const locations = Immutable.fromJS(\n          res.map(c => [c.geometry.coordinates[1], c.geometry.coordinates[0]])\n        );\n        this.setState({\n          points: locations,\n          loadingPoints: false\n        });\n      });\n  }\n\n  toggleReport = () => {\n    console.log(\"togle\");\n    this.setState({\n      reportOpened: !this.state.reportOpened\n    });\n  };\n\n  render() {\n    return this.state.loadingPoints ? null : (\n      <div className=\"App\">\n        <Map points={this.state.points} mapStyle={mapStyle} />\n        <ReportIssue clickHandler={this.toggleReport} />\n        <Report\n          active={this.state.reportOpened}\n          options={this.state.problemOptions}\n          handleClose={this.toggleReport}\n        />\n      </div>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}